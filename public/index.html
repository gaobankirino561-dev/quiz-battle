<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>オンラインクイズバトル</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app">
    <h1>オンラインクイズバトル</h1>

    <section id="name-section">
      <label>
        プレイヤー名:
        <input type="text" id="playerNameInput" placeholder="なまえ">
      </label>
    </section>

    <section id="room-section">
      <button id="createRoomBtn">ルーム作成</button>
      <input type="text" id="roomIdInput" placeholder="ルームID">
      <button id="joinRoomBtn">参加</button>
      <p id="roomInfo"></p>

      <div id="room-settings">
        <h3>ルーム設定（ホストのみ有効）</h3>

        <div class="field-row">
          <label>
            ジャンル:
            <select id="categorySelect">
              <option value="all">すべて</option>
              <option value="general">一般</option>
              <option value="conan">名探偵コナン</option>
              <option value="dragonball">ドラゴンボール</option>
              <!-- 将来ジャンルを増やす場合はここに追加 -->
            </select>
          </label>
        </div>

        <div class="field-row">
          <span>出題難易度:</span>
          <label><input type="checkbox" class="difficultyCheckbox" value="EASY" checked> EASY</label>
          <label><input type="checkbox" class="difficultyCheckbox" value="NORMAL" checked> NORMAL</label>
          <label><input type="checkbox" class="difficultyCheckbox" value="HARD"> HARD</label>
        </div>

        <div class="field-row">
          <label>
            出題数:
            <input type="number" id="maxRoundsInput" min="1" max="50" value="10">
          </label>
          <label>
            <input type="checkbox" id="infiniteModeCheckbox">
            ∞モード（どちらかのHPが0になるまで）
          </label>
        </div>

        <div class="field-row">
          <label>
            1問あたりの制限時間（秒）:
            <input type="number" id="timeLimitInput" min="5" max="120" value="30">
          </label>
        </div>

        <div class="field-row">
          <label for="player-count">参加人数</label>
          <select id="player-count">
            <option value="2" selected>2人</option>
            <option value="3">3人</option>
          </select>
        </div>
      </div>
    </section>

    <section id="status-section">
      <p id="connectionStatus">サーバー接続中...</p>
      <p id="gameStatus"></p>
    </section>

    <section id="hp-section" class="hidden">
      <div class="hp-row">
        <span id="myNameLabel">あなた</span>
        <div class="hp-bar">
          <div id="myHpBar" class="hp-fill"></div>
        </div>
        <span id="myHpText"></span>
      </div>
      <div class="hp-row">
        <span id="opponentNameLabel">相手</span>
      <div class="hp-bar">
        <div id="opponentHpBar" class="hp-fill"></div>
      </div>
      <span id="opponentHpText"></span>
    </div>
    </section>

    <section id="hp-config-section" class="hidden">
      <h2>初期HP設定（ホストのみ操作）</h2>
      <p id="hpConfigInfo"></p>
      <div id="hpInputsContainer"></div>
      <button id="startGameWithHpBtn">この設定でゲーム開始</button>
      <p id="hpConfigStatus"></p>
    </section>

    <section id="question-section" class="hidden">
      <p id="roundInfo"></p>
      <p id="timerText"></p>
      <h2 id="questionText"></h2>
      <ul id="choicesList"></ul>
      <div id="questionRules"></div>
      <button id="skipAnswerBtn" class="hidden">回答スキップ</button>
    </section>

    <section id="result-section" class="hidden">
      <h2>ラウンド結果</h2>
      <p id="roundResultText"></p>
      <p id="correctAnswerText"></p>
      <button id="nextRoundBtn" class="hidden">次の問題へ</button>
      <button id="nextReadyBtn" class="hidden">次の問題へ（準備完了）</button>
      <p id="nextWaitText"></p>
    </section>

    <section id="final-section" class="hidden">
      <h2 id="finalResultTitle"></h2>
      <p id="finalResultDetail"></p>
      <button id="reloadBtn">最初から</button>
    </section>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="client.js"></script>
</body>
</html>
